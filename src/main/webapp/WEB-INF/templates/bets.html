<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

  <head th:substituteby="layout/header :: head"></head>
  
  <body>

    <header th:substituteby="layout/header :: header"></header>
    
    <div id="content">
  
        <h1>BETS</h1>
        <h2>League: <span th:text="${league.getName(#locale)}">league</span></h2>
        <h2>Bets for user: <span th:text="${user.name}">name</span></h2>

        <table id="bets">
          <thead>
            <tr>
              <th colspan="6">Game</th>
              <th colspan="5">Bet</th>
            </tr>
            <tr>
              <th>Name</th>
              <th>Date</th>
              <th colspan="2">Sides</th>
              <th colspan="2">Score</th>
              <th colspan="2">Sides</th>
              <th colspan="2">Score</th>
              <th>Points</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="b : ${allBets}" 
                th:with="g=${b.game},
                         gsA=${b.game.gameSideA},gsB=${b.game.gameSideB},
                         bsA=${b.gameSideA},bsB=${b.gameSideB},
                         gScA=${b.game.scoreA},gScB=${b.game.scoreB},
                         bScA=${b.scoreA},bScB=${b.scoreB}"
                th:class="${!b.pointsComputed}? 'bet_notcomputed'">
              <td>
                <span th:text="${g.name}">game name</span>
              </td>
              <td>
                <span th:text="${g.date} ? ${#dates.format(g.date,#messages.msg('dates.format'))} : '-'">game date</span>
              </td>
              <td>
                <span th:text="${gsA} ? ${gsA.getName(#locale)} : '?'">game sideA</span>
              </td>
              <td>
                <span th:text="${gsB} ? ${gsB.getName(#locale)} :  '?'">game sideB</span>
              </td>
              <td>
                <span th:text="${gScA} ?: '?'">game score sideA</span>
              </td>
              <td>
                <span th:text="${gScB} ?: '?'">game score sideB</span>
              </td>
              <td>
                <span th:text="${bsA} ? ${bsA.getName(#locale)} : '?'">bet sideA</span>
              </td>
              <td>
                <span th:text="${bsB} ? ${bsB.getName(#locale)} :  '?'">bet sideB</span>
              </td>
              <td>
                <span th:text="${bScA} ?: '?'">bet score sideA</span>
              </td>
              <td>
                <span th:text="${bScB} ?: '?'">bet score sideB</span>
              </td>
              <td>
                <span th:text="${b.pointsComputed} ? ${b.points} : ''">points</span>
              </td>
            </tr>
          </tbody>
        </table>
        
        <div>
          <a th:href="@{'/scoreboard/' + ${league.id}}">Go to Scoreboard</a>
        </div>
        
    </div> 

  </body>
  
</html>